var t=function(){return t=Object.assign||function(t){for(var i,n=1,e=arguments.length;n<e;n++)for(var o in i=arguments[n])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t},t.apply(this,arguments)};function i(t,i){var n=performance.now(),e={};return e.value=requestAnimationFrame((function o(){performance.now()-n>=i?t():e.value=requestAnimationFrame(o)})),e}function n(t,i,n,e){return function(o){return Math.pow(1-o,3)*t+3*Math.pow(1-o,2)*o*i+3*(1-o)*Math.pow(o,2)*n+Math.pow(o,3)*e}}function e(t,i){var n=Math.PI-i*Math.PI/180;return{x:t*Math.sin(n),y:t*Math.cos(n)}}var o=function(){function o(i){if(this.leftTopOffset=50,this.maxEasing=1,this.isAnimating=!1,this.isDisposed=!1,!i.container)throw new Error("Container element not found. Make sure container is initialized before creating Gauge");if(!i.colors&&!i.color)throw new Error("Color is not specified. Use `color` or `colors` property to specify the color");var e=this.createRootSvgElement();i.container.appendChild(e),this.root=e;var o=void 0===i.fromAngle?220:i.fromAngle,r=void 0===i.toAngle?500:i.toAngle,a=i.animationDuration;this.config=t(t({},i),{fromAngle:o,toAngle:r,easing:i.easing||n(0,0,.2,1),lineWidth:i.lineWidth||3.5,gaugeRadius:i.gaugeRadius||35,animationDelay:i.animationDelay||0,animationDuration:void 0===a?600:a,colors:i.colors||Array(r-o).fill(i.color)})}return o.prototype.createRootSvgElement=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewBox","0 0 100 100"),t.style.position="absolute",t},o.prototype.getAnimation=function(t){return{easing:t.easing||this.config.easing,animationDelay:void 0===t.animationDelay?this.config.animationDelay:t.animationDelay,animationDuration:void 0===t.animationDuration?this.config.animationDuration:t.animationDuration}},o.prototype.setValue=function(t,n){var e=this;if(void 0===n&&(n={}),this.isDisposed||this.isAnimating)return Promise.resolve();var o=this.config,r=o.fromAngle,a=o.toAngle,s=this.getAnimation(n),l=s.easing,c=s.animationDuration,f=s.animationDelay,u=a-r;t>u&&(t=u);var g=c>0,h=t-this.root.childNodes.length;if(0===h)return Promise.resolve();if(this.isAnimating=!0,h<0)return new Promise((function(t){var n=Array.from(e.root.childNodes).slice(h).reverse();n.forEach((function(o,r){if(e.isDisposed)t();else{var a=r*e.maxEasing/n.length,s=g?l(a)*c:0;i((function(){e.root.removeChild(o),r===Math.floor(Math.abs(h))-1&&(e.isAnimating=!1,t())}),f+s)}}))}));var m=this.root.childNodes.length,p=0,d=m,v=r+m+h,A=this.maxEasing/(v-(r+m));return new Promise((function(t){for(var n=function(n){if(e.isDisposed)return t(),"break";i((function(){e.renderCircle(n,d++),n===Math.floor(v)-1&&(e.isAnimating=!1,t())}),(g?l(A*p)*c:0)+f),p++},o=r+m;o<v;o++){if("break"===n(o))break}}))},o.prototype.insertAdjacentToRoot=function(t,i){this.config.container.insertAdjacentHTML(t,i)},o.prototype.getElementAtValue=function(t){var i=this.root.childNodes[t];if(!i)throw new Error("Element with value ".concat(t," not found"));var n=i.dataset.angle;if(void 0===n)throw new Error("Data attribute angle not found");var e=i.getBoundingClientRect(),o=this.root.getBoundingClientRect();return{element:i,metadata:{relativeLeft:e.left-o.left,relativeTop:e.top-o.top,angle:parseFloat(n)}}},o.prototype.renderCircle=function(t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","circle"),o=this.config.colors[i],r=e(this.config.gaugeRadius,t),a=r.x,s=r.y;n.setAttribute("cx",(this.leftTopOffset+a).toString()),n.setAttribute("cy",(this.leftTopOffset+s).toString()),n.setAttribute("r",this.config.lineWidth.toString()),n.setAttribute("data-angle",t.toString()),n.setAttribute("fill",o),this.root.appendChild(n)},o.prototype.dispose=function(){this.isDisposed=!0,this.isAnimating=!1},o}();export{o as Gauge,e as calcCoordinatesFromAngle,n as cubicBezier};
//# sourceMappingURL=gauge-chart-js.esm.js.map
